修改日期：2019.01.02 修改人：周旭阳
修改内容：（具体修改原因，包括针对测试问题bug的描述,或者需求功能描述，修改内容、版本日期修改等)。如有多条，加编号分行编写。
1. Abox 运行死机问题
原因：Abox_ex 线程的优先级 比 sub_A 线程低，当sub_G数据较多的时候，Abox_ex 线程的缓冲区会溢出
解决方案：将sub_A 中对数据直接处理之后，直接发给tcp_send ，将tcp_send 线程优先级提高


修改日期：2019.01.03 修改人：周旭阳
1. Cbox连续接收到多包数据
原因：由于Cbox接收到Abox数据后，会将数据处理完毕发给Panel,最后再回Abox的包，（添加接收数据打印也会出现此现象），导致Abox
接受包超时，Abox会连续重发
解决方案：考虑到Abox的效率，将Cbox接收到数据后，优先处理发回给Abox的信息，之后再去发给Panle（将打印信息屏蔽）
2.发送4K分组包失败
原因：Cbox能完整接收到数据，在解析的时候，删除无效数据时，误将所有接收数据删除
解决方案：修改代码，将无效数据删除即可


修改日期：2019.01.04 修改人：周旭阳
1.Abox 远程更新测试OK
2.Cbox远程更新测试OK  
存在问题：会出现丢包的情况
原因: Abox发给Cbox的数据，接收设置了超时时间10ms，Cbox在处理数据的时候，需要写入文件需要时间(打印数据也要花时间)，10ms远远不够
解决方案：Abox判断档案数据包为更新包的时候，将接收超时时间设置为100ms


修改日期：2019.01.10 修改人：周旭阳
1.添加Abox静态分配网络的功能
2.添加Abox telnet功能

修改日期：2019.01.15 修改人：周旭阳
1.完成设备删除方案的代码更改
解决死机问题：
测试环境，服务器开启十台终端，以每秒720字节的向Abox请求数据，Abox再将数据分发给Cbox,会造成以下情况
1）tcp_recv线程死机
原因: tcp_recv线程接收大量数据，会将接收到的数据以消息队列的方式发给另外一个线程，由于数据量较大，这个消息队列一直在发，
而未接收，导致程序死机
解决方法：将tcp_recv线程优先级提高到最高，接受完数据直接在线程内将Cbox的数据放入缓冲池中
2）subG线程死机
原因：Abox注册Cbox，最后一包注册发给Cbox,但是Cbox未接收到，此时Abox默认该Cbox已经注册成功，下次该Cbox继续来注册，这样
在注册表中相同的Cbox注册了好几遍，再读取缓冲池的数据的时候会造成出错
解决方法: 在注册新的Cbox时，先判断在注册表中是否存在该Cbox,若存在，直接下发注册信息，但是在注册表中不添加
3）程序死循环rt_event_send
原因：通过读取rt_event_send 函数入参，获取发送事件为 server_heart
解决方法：发送服务器心跳通过定时器直接往tcp_send 中发消息即可

修改日期：2019.01.16 修改人：周旭阳
1.Abox接收server 的数据缓冲池更改为10K
2.Abox tcp_recv 接收缓冲区改为2K

修改日期：2019.01.17 修改人：周旭阳
1.调整线程结构，心跳，注册数据直接往tcp_ser 函数发，加快速度
2.application.c  ReadSetup（）函数去掉 rt_memset(setup,0,sizeof(stSysSetup));  会造成之前定义的usart信息被清空

修改日期：2019.01.18 修改人：周旭阳
1.完成设备删除方案的代码验证及部分代码更新
2.增删少量代码，连续多包测试OK
3.freemodbus 代码初步移植（freemodbus文件夹）

修改日期：2019.01.21 修改人：周旭阳
1. 修改app 跳转地址为0x08008000（sector2_addr）
   sector1：btloater ( 16 K )
   sector2:  save data ( 16 K )
   other :    app
注意问题：别忘记修改   NVIC_SetVectorTable(NVIC_VectTab_FLASH, NVIC_VectTab_FLASH_OFFSET);  这里的地址偏移
2.完成flash保存数据功能添加及flash功能验证
注意问题：flash 保存读取数据 注意四字节对其，地址的跳转，以及上锁 解锁 擦除等

修改日期：2019.01.23 修改人：周旭阳
1. 添加面板更新功能
2.测试OK  放到三楼进行测试  

测试简介：
Abox 两台
Abox1 : 频段0  编号100  ver3.01
Abox2 : 频段1  编号101  ver3.02

Cbox组1：
编号 102~106  频段0  ver4.01
Cbox组2：
编号 108~112  频段1  ver4.02
Cbox组3
编号 113~115  频段0~1 过段时间切换频段 ver4.03
Cbox组4：
编号 116~118 频段0~1 不断切换频段 ver4.04

修改日期：2019.01.29 修改人：周旭阳
1.测试EC20 跟 M26功能，更新部分代码
2.远程更新，实时数据上传，磨具信息上传OK
存在问题：
1.需要添加心跳
2.连续两包信息从面板发上来会丢一包（考虑建个缓冲池）

修改日期：2019.01.31 修改人：周旭阳
1.添加心跳
2.EC20，M26，subg测试OK
3.将at_pri优先级提高 优先AT发送数据
4.添加Abox数据发送过程中判断数据发送的失败率，高于10% 则换频

修改日期：2019.02.21 修改人：周旭阳
1.删除部分打印信息
2.在lwip初始化之后开启watch dog
3.在cbox client.c   shutdown(sock,SHUT_RDWR); 之后  将rt_thread_yield(); 改为 rt_thread_delay(1000); 

修改日期：2019.02.22 修改人：周旭阳
1.程序启动的时候，会判断保存在sector1 中的数据与文件系统中的数据进行比较，
如果不一致，数据会从文件系统保存到flash中，如果一致，则flash中不再保存
2.Cbox 中默认的端口设置为19991
3.rt_thread_wwdg_init() 放回到起始处

修改日期：2019.02.28 修改人：周旭阳
1.为适应生产调试，更新my_cmd.c中 setid setmdn 的代码
2.增删部分打印信息

修改日期：2019.03.14 修改人：周旭阳
1.Cbox在未注册成功的时候，等待Abox的超时时间为100ms，在1s内将十个频段遍历完毕
   注册成功之后，等待超时时间为5s 
2.添加面板显示信息

修改日期：2019.03.18 修改人：周旭阳
1.延长Abox 判断包出错的时间
2.subg-C电平无法复位 程序重启


修改日期：2019.03.19 修改人：周旭阳
1.添加A-=>C包的编号，数据传输OK

修改日期：2019.03.26 修改人：周旭阳
1.AC调频 注册  OK
2.Abox 数据收发OK

修改日期：2019.04.02 修改人：周旭阳
1.数据从C到A到服务器验证OK

修改日期：2019.04.02 修改人：周旭阳
1.数据单包收发OK 

修改日期：2019.04.08 修改人：周旭阳
1.数据收发OK
2.面板显示OK

修改日期：2019.04.09 修改人：周旭阳
1.网站跳转OK，选频OK 
2.需要到楼下测试

修改日期：2019.04.10 修改人：周旭阳
1.一对多测试开始：addCbox函数修改（之前的只能添加1个模块）
2.烧录时发现，将程序压缩等级提高到2以上，程序就会死机
3.完成网站的写入跟重改以及上传

修改日期：2019.04.13 修改人：周旭阳
1.将Cbox-client.c 里面删除 eth ARP 清空函数，目前测试面板与模块收发OK
2.Cbox更新的时候接收到的文件长度有点问题 

修改日期：2019.04.16 修改人：周旭阳
1.编译级3下程序死机：flash 读取的时候 输入的地址没有按照四字节对其
2.将net地址改到第一卷 一千字节之后，每次读取第一卷信息，都要求先将里面的数据读取出来，再clear

修改日期：2019.04.22 修改人：周旭阳
1.暂存(功能验证基本OK)
2.需要自己编写可变的消息队列

修改日期：2019.04.22 修改人：周旭阳
1.队列编写OK 
2.需要添加静态缓冲池的接口

修改日期：2019.04.29 修改人：周旭阳
1.功能测试OK

修改日期：2019.05.08 修改人：周旭阳
1.数据字典OK

修改日期：2019.05.09 修改人：周旭阳
1.面板主动选择Abox 且Cbox同时刷新Abox列表OK

修改日期：2019.05.10 修改人：周旭阳
1.wwdg改iwdg